<h2 mat-dialog-title class="text-center">Formulario Evaluación</h2>
<mat-dialog-content>
    <form id="miFormulario" [formGroup]="myForm" (ngSubmit)="onGuardar();">
        <div class="flex flex-col me-3">

            <mat-form-field>
                <mat-label>Id Matrícula</mat-label>
                <input formControlName="idMatricula" matInput type="text">
            </mat-form-field>

                <mat-form-field>
                    <mat-label>Nota</mat-label>
                    <input formControlName="nota" matInput>
                </mat-form-field>
                
                <mat-form-field>
                    <mat-label>Observaciones</mat-label>
                    <input formControlName="observaciones" matInput type="text">
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Fecha Evaluación</mat-label>
                    <input formControlName="fechaEvaluacion" matInput type="text">
                </mat-form-field>

                @if(F['idMatricula'].invalid && F['idMatricula'].touched){
                    @if(F['idMatricula'].errors!['required']) {
                        <small class="text-red-600">El ID de matrícula es obligatorio.</small>
                    }
                    @if(F['idMatricula'].errors!['pattern']) {
                        <small class="text-red-600">El ID matrícula solo puede contener números.</small>
                    }
                }

                @if(F['nota'].invalid && F['nota'].touched){
                    @if(F['nota'].errors!['required']) {
                        <small class="text-red-600">La nota es obligatoria.</small>
                    }
                    @if(F['nota'].errors!['min'] || F['nota'].errors!['max']) {
                        <small class="text-red-600">La nota debe estar entre 0 y 100.</small>
                    }
                    @if(F['nota'].errors!['pattern']) {
                        <small class="text-red-600">Formato de nota no válido.</small>
                    }
                }

                @if(F['observaciones'].invalid && F['observaciones'].touched){
                    @if(F['observaciones'].errors!['maxlength']) {
                        <small class="text-red-600">Las observaciones no deben exceder los 255 caracteres.</small>
                    }
                }

                @if(F['fechaEvaluacion'].invalid && F['fechaEvaluacion'].touched){
                    @if(F['fechaEvaluacion'].errors!['required']) {
                        <small class="text-red-600">La fecha de evaluación es obligatoria.</small>
                    }
                    @if(F['fechaEvaluacion'].errors!['minlength'] || F['fechaEvaluacion'].errors!['maxlength']) {
                        <small class="text-red-600">La fecha de evaluación debe tener entre 8 y 10 caracteres.</small>
                    }
                }



        </div>
        <input type="hidden" formControlName="id">

    </form>

</mat-dialog-content>

<mat-dialog-actions>
    <button type="submit" form="miFormulario" mat-button><mat-icon>save</mat-icon>Guardar</button>
    <button mat-button [mat-dialog-close]="false"><mat-icon>cancel</mat-icon>cerrar</button>
</mat-dialog-actions>